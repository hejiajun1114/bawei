[TOC]







# 面试题



A卷



1、如何实现 Nginx 代理的节点访问日志记录客户的 IP 而不是代理的 IP？ 

2、/var/log/messages 日志出现 kernel: nf_conntrack: table full, dropping packet.请问是什么原因 

导致的？如何解决？ 

3、linux 系统 nginx php 环境，发现 PHP-FPM 进程占用 CPU 高，请问可能的原因，以及如 

何解决? 

4、一主多从，主库宕机，如何切换到从库，其他的从库如何处理？ 

5、误操作 drop 语句导致数据破坏，请给出恢复思想及实际步骤。 

6、请举一个生产中实际的例子网站打开慢由于数据库慢导致的。 

7、通过 kill -9 野蛮粗鲁杀死数据库导致数据库启动故障，给出排除方法或者经验。 

8、IDC 机房带宽突然从平时 100M 增加到 400M，请你分析问题所在，并解决。 

9、正在工作的 linux，发现文件系统只读了，你觉得导致问题的原因是什么，如何解决？ 

10、磁盘报错“No space left on device”，但是 df -h 查看磁盘空间没满，请问为什么？ 

11、磁盘空间满了，删除了一部分 nginx access 日志，但是，发现磁盘空间还是满的，请问 

为什么？更改当前 apache 日志的 access.log 为 www.log，请问程序写新日志会写到 

www.log 么？ 

12、写一个 tomcat 启动脚本，手工 OK，但是放入定时任务就是不执行，请问为什么？ 

13、请利用 shell 开发一个 rsync 服务的启动停止脚本并通过 chkconfig 进行开关机管理。 

14、请利用 shell 开发监控 MySQL 主从同步及是否延迟的插件，并给出通过 nagios 主动和 

被动实际实战配置步骤。 

15、请详细描述 LVS DR 模式的原理以及 keepalived 高可用服务工作原理？ 

16、请详细描述 MySQL 主从复制原理，nginx fastcgi 工作原理。 

17、请描述 raid 0 1 5 10 的原理、相关特点 ，性能区别，集群中各角色如何选择 RAID。 

18、apache 服务的常用工作模式及对应特点，企业如何选择对应模式。





B卷

1、如何通过 linux 实现一个局域网或者 IDC 机房上网网关，请给出步骤及命令？ 

2、192.168.0.0/24 网段通过 192.168.0.1 网关连入 172.16.1.0/24 ip 段,如何添加路由？ 

3、使用非交互式命令语言把文件从 A 服务器推送到 B,C 服务器，请写出脚本。已知 A,B,C 

服务器的密码为 root 密码 123456， 端口为 22（禁止用 ssh key 密钥功能）。 

4、用户访问 jd.com 网站集群架构很慢，如果你是 jd 的运维人员，请详细分析可能的原因， 

及排查方法？ 

5、公司机房的服务器接近 254 台了， 请你设计一个解决方案，如何划分网络，并实现业务 

平滑迁移。 

6、nginx 代理上如何实现代理 RS 集群节点上的不同虚拟主机，请给出配置，方法，或思路。 

7、请开发插件实现监控网站站点目录的文件及内容变更，并加入到 nagios 监控管理，给出 

实现插件代码及部署详细步骤？ 

8、请描述 DNS 解析的原理详细过程？ 

9、请描述 CDN 工作原理详细过程以及购买 CDN 后具体解析操作步骤？ 

10、请描述 OSI7 层模型各层名字及功能，并举例在不同层对应的协议。 

11、描述 tcp/ip 3 次握手及 4 次断开工作原理过程。 

12、请说出 netstat -an 命令结果中最后一列 status 对应的不同网络连接状态含义，以及如何 

调整优化这些网络连接细节。 

13、工作中都遇到过那些运维故障，如何解决的，请描述 2 个你发现并解决的故障案例。 

14、binlog 是什么？binlog 记录的是什么？有几种模式及优缺点，企业中如何选择做同步？ 

15、请详细描述 http 协议工作原理。 

16、请详细描述 MySQL 主从复制原理。 

17、当 MySQL 误删数据时如何恢复(请分析所有你能想到的故障环境)。 

18、MySQL 主从复制故障机延迟原因有哪些，工作中你是如何解决的？



C卷

1、如何能把/mnt/test.txt 拷贝到/tmp 不提示的覆盖掉已有的 test.txt 文件。 

2、只查看 oldboy.txt 文件（共 100 行）内第 20 到第 30 行的内容。 

3、请执行命令取出 linux 中 eth0 的 IP 地址。 

4、每周日上午 9：30 来老男孩 linux 培训上课（用/oldboy.sh 代替），请给出完整配置过程。 

5、请给出 10 个 vi/vim 编辑器常用操作命令包括快捷键 

6、写个定时任务删除 7 天前访问日志。 

7、/etc/fstab 文件最后两列的数字分别表示什么意思？ 

8、R720 1T 的硬盘 6 块做好 RAID5,请问如何安装 Centos 系统并按如下方式分区。 

/boot 200m，/ 100G，swap 16G ，/data 剩余 

9、请写出以下端口对应的服务？ 

端口：21 22 25 3306 873 161 111 3389 80 443 110 

10、如果主机无法连接网络，请给出你的详细的排查思路？ 

11、批量随机创建 10 个以 html 结尾的文件 

12、请再上面每个文件名的结尾增加 oldboy 字符串（扩展名前） 

13、批量创建 10 个用户，设置随机 8 位密码。 

14、请描述 http 状态码的含义，并举一个你在企业中发生的案例。 

状态码：301 403 404 500 502 503 504 

15、请开发脚本定时分析 access.log 日志或网络连接数，PV 大于 100 的访问，封掉对应 IP。 

16、请详细描述 netstat 网络连接状态的不同含义，以及如何针对每个状态进行优化？ 

17、如何实现 web 图片防盗？给出防盗原理及大概配置步骤。 

18、请问你的网站主营业务是什么，并发量，日 PV,IP 量分别是多少？ 

19、请随意写一个你工作中完成任务最得意的 SHELL 脚本的例子。 





D卷

1、请详细 Linux 系统从开机到登陆界面的启动过程？ 

2、如何优化 linux 系统（不仅仅是常规优化）？ 

3、请详细描述 linux 下软链接和硬链接的区别？ 

4、请详细描述 linux 下文件删除的原理？ 

5、详细描述磁盘读写数据原理，分区方式，文件系统 

6、linux root 密码忘了,如何找回来？ 

7、/etc/fstab 文件的作用，如果因为配错 fstab 导致开机无法启动了，如何解决？ 

8、MySQL 密码忘了,如何找回来，如果是多实例数据库，又如何找回？ 

9、MySQL 常用引擎有哪些及特点区别，工作中如何选择引擎。 

10、请设计一个你认为高大上的 MySQL 备份方案？ 

11、企业大并发场景如何优化 MySQL 数据库，请细致描述？ 

12、给你无限带宽以及无限服务器资源，请设计一个架构防止大规模 DDOS,CC 攻击？ 

13、如何优化 apache 以及 nginx 服务？ 

14、网站被上传木马到附件目录，在所有文件插入了代码，请问如何解决，如何预防？ 

15、Memcached 服务内存管理机制工作原理？ 

16、Memcached 服务分布式集群如何实现？一致性哈希算法作用及原理描述？ 

17、Memcached 与 redis 相同点和区别？ 

18、如何更改已有数据的 MySQL 数据库的字符集，给出实施步骤？ 

19、请描述你理解的，运维工作都做什么？ 

20、批量创建 10个用户stu01-stu10，并且设置随机8 位密码，要求：不能用 shell 循环（例 

如：for,while 等），只能用 linux 命令及管道实现。 





